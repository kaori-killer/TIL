# 230310 회고

## 개발

### 스토리북

NEXTSTEP에서 스토리북을 처음 사용하게 되었다. 스토리북이 낯설어서 어려웠다.
구현에서 가장 고민했던 점은 '입력 값을 유효성 검사해서 state에 저장하는' 컴포넌트가 있었는데, 이 컴포넌트를 스토리북으로 어떻게 작성할 지였다.

처음에는 '입력 값을 유효성 검사하는 부분'이 중요하다고 생각했다. 그래서 스토리북에서 값을 입력을 했을 때 유효성 검사가 제대로 되는지 보여주고 싶었다. 유효성 검사가 제대로 동작한다면, 유효하지 않은 값을 입력되지 않는다.

이 컴포넌트는 입력 값이 유효하면 setState를 해서 state로 저장되고 화면에 보며진다. 이 부분이 문제가 됐는데, setState가 없으면 제대로 동작하지 않는다는 점이다.
state와 setState는 props로 넘겨주고 있었다. 그래서 스토리북에서도 state와 setState를 넘겨주는 작업이 필요했다.

그랬더니 다음과 같이 컴포넌트로 한 번 더 구현해서 props로 넣어주는 부분을 만들게 되었다. 

```tsx
export function Basic() {
  const [cardNumber, setCardNumber] = useState({
    firstNumber: '1234',
    secondNumber: '5678',
    thirdNumber: '1357',
    fourthNumber: '2468',
  });
  return <CardNumber cardNumber={cardNumber} setCardNumber={setCardNumber} />;
}
```

리뷰어 분은 addon으로 개선하면 좋겠다고 했지만, 관련 문서를 찾아봐도 도저히 수정할 수 없었다.

> cardNumber를 받았을 때 아래의 cardNumber state값을 변경할 수 있게 해보는 건 어떨까요?
>
> 이런 부분은 storybook의 addon으로 개선할 수 있을 것 같아서 storybook addon도 고려해보면 좋을 것 같아요.

그래서 오늘 스토리북을 도와주실 리뷰어 분과 페어프로그래밍을 하게 되었다.
일단 스토리북에서 useState를 쓰지 않도록 수정했다.
그리고 state에 정적인 값을 넘겨줘서 값에 따라 UI가 어떻게 보이는지 판단하는게 나았다.

리뷰어 분과 해결 방법을 계속 얘기해봤다. 그리고 다음과 같은 결론을 내렸다. 만약에 요구사항에서 유효성 검사에서 false를 반환할 때만 UI가 다르게 보인다는 요구사항이 있었다면, 유효성 검사 여부와 관계없이 state를 저장했을 것이고, 그러면 스토리북을 쓰는 의미가 더 있었을 것이라는.

처음 페어프로그래밍이라서 떨렸는데 고민을 잘 들어주셨고, 개인적인 고민까지 함께 고민해주셨다.
나도 작은 도움이라도 많은 사람에게 주고 싶다는 생각이 든다.

### Handler

값은 정의해놓은 곳에서 관리하는 게 낫다.

### UNION 프로젝트

이미지 파일이 많은데, 정적파일은 압축하는 방법으로 미리 저장할 수 있을까?
